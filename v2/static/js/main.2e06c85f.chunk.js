(this["webpackJsonphacker-news-frontend"]=this["webpackJsonphacker-news-frontend"]||[]).push([[0],{1:function(e,t,n){e.exports={newsMain:"News_newsMain__ttguL",newsText:"News_newsText__30fGv",date:"News_date__3zy7H",overlayBtn:"News_overlayBtn__15bBu",spinner:"News_spinner__hv4DT",spinnerCont:"News_spinnerCont__2MdLX",author:"News_author__3uJP7",authorText:"News_authorText__1U6rC"}},17:function(e,t,n){e.exports={headText:"Header_headText__xKuGR"}},18:function(e,t,n){e.exports=n(30)},2:function(e,t,n){e.exports={contentMain:"Content_contentMain__bQFQH",spinnerCont:"Content_spinnerCont__29mwO",searchBox:"Content_searchBox__1RAVA",pageChange:"Content_pageChange__WSIO_",pageBtn:"Content_pageBtn__3nKpy"}},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(3),o=n.n(r),i=n(5),c=n(14),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newsList:{}},t=arguments.length>1?arguments[1]:void 0;switch(e=Object(c.a)({},e),t.type){case"updateNewsList":e.newsList=Object(c.a)({},e.newsList),e.newsList[t.payload.id]=t.payload.data}return e},p=Object(i.c)(Object(i.b)({News:l}),{}),u=n(8),m=(n(29),n(17)),d=n.n(m);var h=function(){return s.a.createElement("h1",{id:d.a.headText,className:"display-4"},"Hacker News")},w=n(6),_=n(7),y=n(10),v=n(9),f=n(2),N=n.n(f),g=n(4),E=n.n(g),b=function(){o.a.unmountComponentAtNode(document.getElementById("overlay")),document.getElementById("overlay").style.display="none"},x=function(e,t){e.preventDefault(),document.getElementById("root").classList.remove("blurBG"),document.getElementById(t).id=E.a.unmount,setTimeout(b,350)},C=n(1),j=n.n(C);var k=function(e){return s.a.createElement("div",{className:"container bg-light",id:E.a.overlaymain},s.a.createElement("button",{className:"material-icons",id:E.a.cross,onClick:function(e){return x(e,E.a.overlaymain)}},"cancel"),s.a.createElement("h1",{className:"display-3"},e.title),s.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.text},style:{fontSize:"130%"}}),s.a.createElement("div",{className:j.a.author},s.a.createElement("span",{className:j.a.date},e.date),s.a.createElement("span",{className:j.a.authorText},"-",e.by)))};var O=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(w.a)(this,n),(a=t.call(this,e)).organizeLayout=function(){var e=a.el.clientHeight;e>550&&(a.el.style.gridColumn="span 4"),e=a.el.clientHeight;var t=Math.ceil(e/40);t-e/40<.025&&(t+=1),a.el.style.gridRow="span "+t},a.componentDidMount=function(){a.updateNews(),a.organizeLayout()},a.componentDidUpdate=function(){a.organizeLayout()},a.updateNews=function(){void 0==a.props.news?fetch("https://hacker-news.firebaseio.com/v0/item/"+a.props.id+".json").then((function(e){return e.json()})).then((function(e){a.props.setNewsData(a.props.id,e)})):console.log("optomised")},a.Overlay=function(e){var t=document.getElementById("overlay");t.style.display="block",document.getElementById("root").classList.add("blurBG"),o.a.render(s.a.createElement(k,{title:a.props.news.title,text:a.props.news.text,date:e,by:a.props.news.by}),t)},a.el=null,a}return Object(_.a)(n,[{key:"render",value:function(){var e=this;""!=this.props.searchText&&void 0!=this.props.news&&null!=this.el?-1==this.props.news.title.indexOf(this.props.searchText)?this.el.style.display="none":this.el.style.display="inline-block":null!=this.el&&(this.el.style.display="inline-block");var t,n=2,a="270%",r="";return void 0!=this.props.news&&(this.props.news.score>200?n=6:this.props.news.score>50&&(n=4),this.props.news.score>100?a=300+this.props.news.score/25+"%":this.props.news.score>50&&this.props.news.score<80?a="230%":this.props.news.score>10?a="250%":this.props.news.score<10&&(a="175%"),r=(r=new Date(this.props.news.time)).toDateString()),t=void 0==this.props.news?s.a.createElement("div",{className:j.a.spinnerCont},s.a.createElement("div",{className:["spinner-grow",j.a.spinner].join(" ")}),s.a.createElement("div",{className:["spinner-grow",j.a.spinner].join(" ")}),s.a.createElement("div",{className:["spinner-grow",j.a.spinner].join(" ")})):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(t){return e.Overlay(r)},className:["material-icons",j.a.overlayBtn].join(" ")},"open_in_new"),s.a.createElement("h1",{style:{fontSize:a}},this.props.news.title),s.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.news.text},className:j.a.newsText}),s.a.createElement("div",{className:j.a.author},s.a.createElement("span",{className:j.a.date},r),s.a.createElement("span",{className:j.a.authorText},"-",this.props.news.by))),s.a.createElement("div",{ref:function(t){return e.el=t},className:j.a.newsMain,style:{gridColumn:"span "+n}},t)}}]),n}(a.Component),B=Object(u.b)((function(e,t){return{news:e.News.newsList[t.id]}}),(function(e){return{setNewsData:function(t,n){return e(function(e,t){return{type:"updateNewsList",payload:{id:e,data:t}}}(t,n))}}}))(O),T=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(w.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.getNewsIds()},a.getNewsIds=function(){fetch("https://hacker-news.firebaseio.com/v0/askstories.json").then((function(e){return e.json()})).then((function(e){return a.setState((function(t,n){return{NewsIDs:e}}))}))},a.searchHandler=function(e){"Enter"==e.key&&a.setState({searchText:e.target.value})},a.moreContent=function(e){a.setState({start:a.state.end,end:a.state.end+30})},a.lessContent=function(e){a.setState({start:a.state.start-30,end:a.state.start})},a.state={NewsIDs:[],searchText:"",start:0,end:30},a}return Object(_.a)(n,[{key:"render",value:function(){var e=this,t=this.state.end;t=this.state.NewsIDs.length>t?t:this.state.NewsIDs.length;var n=this.state.NewsIDs.slice(this.state.start,t);console.log("sub ids :",n);var a=this.state.NewsIDs.map((function(t,n){return s.a.createElement(B,{id:t,key:n,searchText:e.state.searchText})}));return a=a.slice(this.state.start,t),0==this.state.NewsIDs.length&&(a=s.a.createElement("div",{className:N.a.spinnerCont},s.a.createElement("div",{className:["spinner-grow",N.a.spinner].join(" ")}),s.a.createElement("div",{className:["spinner-grow",N.a.spinner].join(" ")}),s.a.createElement("div",{className:["spinner-grow",N.a.spinner].join(" ")}))),s.a.createElement("div",{id:N.a.contentMain},s.a.createElement("div",{id:N.a.pageChange},0!=this.state.start?s.a.createElement("button",{className:["material-icons",N.a.pageBtn,"btn btn-dark"].join(" "),onClick:this.lessContent},"keyboard_arrow_left"):"",this.state.end<this.state.NewsIDs.length?s.a.createElement("button",{className:["material-icons",N.a.pageBtn,"btn btn-dark"].join(" "),onClick:this.moreContent},"keyboard_arrow_right"):""),s.a.createElement("input",{onKeyDown:this.searchHandler,type:"search",id:N.a.searchBox,placeholder:"\uf002  Search...",className:"form-control"}),a)}}]),n}(a.Component);var I=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h,null),s.a.createElement(T,null))};o.a.render(s.a.createElement(u.a,{store:p},s.a.createElement(I,null)),document.getElementById("root"))},4:function(e,t,n){e.exports={overlaymain:"Overlay_overlaymain__BJABf",anim:"Overlay_anim__3p0TY",cross:"Overlay_cross__37-_l",unmount:"Overlay_unmount__2Qcjq",anim2:"Overlay_anim2__2aaAm"}}},[[18,1,2]]]);
//# sourceMappingURL=main.2e06c85f.chunk.js.map